
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="/fragments/MainFragments.html :: html_head">

</head>

<body>
<div class="position-relative d-flex p-0" id="top">
  <!-- Spinner Start -->
  <div id="spinner"
       class="show bg-light position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
    <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
      <span class="sr-only"></span>
    </div>
  </div>
  <!-- Spinner End -->

  <!-- Sidebar Start -->
  <aside class="sidebar pb-3">
    <button class="d-lg-none close_btn"><img th:src="@{/assets/img/icons/close_icon.svg}" alt="Close" width="30" /></button>
    <nav class="navbar text-left">
      <a href="/dashboard" class="navbar-brand my-4 pt-2 pb-4 m-auto text-center">
        <img th:src="@{/assets/img/logo.svg}" alt="Sbrigit" width="144" class="img-fluid" />
      </a>

      <ul class="navbar-nav w-100">
        <li><a href="/dashboard" id="1" class="nav-link "><i class="me-2"><img
                th:src="@{/assets/img/icons/menu_icons/dashboard_icon.svg}" width="24" alt="" /></i> Dashboard </a></li>

        <li><a href="/admin/users?offset=0&pageSize=5&query" id="2" class="nav-link"><i class="me-2"><img
                th:src="@{/assets/img/icons/menu_icons/driver_icon.svg}" width="23" alt="" /></i>
          User Operations</a></li>
      </ul>
      <div class="logout_menu"><a href="/logout-user" id="5" class="nav-link"><i class="me-2"><img
              th:src="@{/assets/img/icons/menu_icons/logout_icon.svg}" width="24" alt="Logout" /></i> Log Out </a>
      </div>
    </nav>

  </aside>
  <!-- Sidebar End -->

  <!-- Content Start -->

  <!-- Navbar End -->

  <div class="content pb-3" >

    <div th:replace="fragments/MainFragments.html :: navbar"></div>

    <!-- Start Content -->
    <div class="container-fluid py-2 px-3 mt-3">
      <div class="card-panel bg-white p-4 radius-10">

        <div class="d-flex flex-wrap justify-content-between align-items-center page-header">
          <h1 class="h2 mb-2" th:text=" 'Hi, '+ ${username}"> </h1>
        </div>
        <div class="d-flex flex-wrap justify-content-between align-items-center page-header">
          <h6 class="h6 mb-2" th:text=" 'Edit your profile here' "> </h6>
          <br><br><br>
        </div>

        <form onsubmit="return validateForm()" method="post" action="/update-profile" enctype="multipart/form-data" >
          <div class="row">
            <div class="row">
              <label class="mb-2 text-capitalize" for="name">Name</label>
              <div class="mb-4">
                <input type="text" id="name" placeholder="Type here" name="name" class="form-control form-control-sm" >
              </div>
            </div>
            <div class="row">
              <label class="mb-2 text-capitalize" for="email">Email</label>
              <div class="mb-4">
                <input type="text" id="email" placeholder="Type here" name="email" class="form-control form-control-sm" >
              </div>
            </div>
            <div class="row">
              <label class="mb-2 text-capitalize" for="phone">Phone Number</label>
              <div class="mb-4">
                <input type="number" id="phone" placeholder="Type here" name="phone" class="form-control form-control-sm" >
              </div>
            </div>
            <div class="row">
              <label class="mb-2 text-capitalize" for="password">Password</label>
              <div class="mb-4">
                <input type="password" id="password" placeholder="Type here" name="password"  class="form-control form-control-sm" >
              </div>
            </div>
            <div class="row">
              <label class="mb-2 text-capitalize" for="dob">Date Of Birth</label>
              <div class="mb-4">
                <input type="date" id="dob" placeholder="Type here" name="dob"  class="form-control form-control-sm" >
              </div>
            </div>
            <div class="row">
              <label class="mb-2 text-capitalize" for="file">Profile Photo</label>
              <div class="mb-4">
                <input type="file" id="file" name="file" class="form-control form-control-sm">
              </div>
            </div>
            <div class="d-flex justify-content-end text-end mt-4">
              <button type="submit" class="btn btn-md btn-primary">Update Profile</button>
            </div>
        </form>

      </div>
    </div>

  </div>

</div>




<!-- End Content  -->
</div>

<!-- JavaScript Libraries -->
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="assets/js/cookie.js"></script>

<!-- Template Javascript -->
<script src="assets/js/main.js"></script>
<script>
  
    const fileInput=document.getElementById('file');
    const form=document.querySelector('form');

    form.addEventListener('submit',function(event){
        const file=fileInput.files[0];
        
        if(file){
          const fileName=file.name;
          const fileExtension=fileName.split('.').pop().toLowerCase();
          if(fileExtension !=='jpg' && fileExtension !=='jpeg' && fileExtension !=='png'){
            event.preventDefault();
            alert('Please upload image files only.');
          }
        }
    });
	</script>
</body>

</html>